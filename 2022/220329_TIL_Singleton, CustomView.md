# 면접 질문

## **Singleton**

### 1. **Singleton 디자인 패턴을 활용하는 경우를 예를 들어 설명해주세요.**

- 특정 용도로 객체를 하나만 생성해서, 공용으로 사용하고 싶을 때 사용하는 디자인 패턴
- DBCP(DataBase Connection Pool)처럼 공통된 객체를 여러개 생성해서 사용해야하는 상황에서 많이 쓰인다. (쓰레드풀, 캐시, 대화상자, 사용자 설정, 레지스트리 설정, 로그기록 객체 등)
- iOS에서는 `UIScreen.main`, `UserDefaults.standard`, `UIApplication.shared`, `FileManager.default`, `NotificationCenter.default` 등에서 쓰이고 있다.

### 2. **싱글턴 디자인 패턴의 장단점을 설명해주세요**

- **장점**
    - 한 번의 Instance만 생성하므로 메모리 낭비를 방지할 수 있고 관리가 편하다.
    - Singleton으로 생성한 Instance는 전역 Instance로 다른 클래스들과 자원 공유가 쉽다.
    - 한 번 만들어지면 메모리를 할당하고 초기화 하는 과정이 단축되어 다시 접근할 때 더 빠르다.
- **단점**
    - Singleton Instance가 너무 많은 일을 하거나, 많은 데이터를 공유시킬 경우 다른 클래스의 Instance들 간 결합도가 높아져 “개방=폐쇄” 원칙을 위배한다. (객체지향설계 원칙에 위반됨)
    - 전역에서 접근을 할 수 있다보니 여러 곳에서 생각보다 많이 사용될 수 있어 시간이 지나면 어디어디에 Singleton이 연결되어 있는지 확인 하기 어려워진다.
    - 따라서 수정과 테스트가 어려워진다.
    

### 3. **Swift의 Singleton**

- 옵젝씨에서의 Singleton은 dispatch_once를 이용해 한번만 불리도록 하는 작업을 해야한다.
왜냐하면, MultiThread 환경에서는 Singleton을 생성할 때 Thread-Safe하지 않기 때문에
여러 쓰레드가 동시에 Singleton을 생성할 수도 있게 된다.
- Swift에서는 dispatch_once가 자동으로 적용되기 때문에 별도의 코드가 없어도 Thread-Safe하게 Singleton을 생성할 수 있다.
또한, static을 사용하여 타입프로퍼티로 Instance를 생성하게 되면 사용 시점에 초기화가 되기 때문에 사용하지 않는다면 메모리에 올라가지 않고 처음 사용하는 시점에 메모리에 올라가게 된다.

## **Custom View**

### 1. **Custom View를 구현하려면 어떻게 해야하는지 설명해주세요**

- **Xib 사용**
    - Nib파일을 XML형식으로 변환한 파일
    - Nib파일은 바이너리 형식의 파일이며, Xib파일을 빌드하면 Nib파일로 컴파일 된다.
    - 장점
        - 눈으로 쉽게 보면서 레이아웃 작업이 가능하다.
        - 레이아웃 에러를 찾기 쉽다.
        - 뷰컨에 추가적인 코드작업이 필요없다.
        - 재사용성이 좋다.
    - 단점
        - 충돌시에 해결이 복잡함
        - 코드로 작성한 UI에 비해서 오버헤드가 크다. (필요시 메모리로드 -> 파싱과정)
- **코드로만 작성**
    - 코드로만 UI를 작성한다.
    - 장점
        - 오버헤드가 적다
        - 충돌시 해결이 비교적 쉽다.
        - 개발자 마음대로 제어가 가능하다.(동적인 레이아웃)
        - 재사용성이 좋다.
    - 단점
        - Xib에 비해 시간이 더 소요된다.
        - 레이아웃 에러를 찾기 어렵다.
        

### 2. **Core Graphics에 대해 설명해주세요**

- Core Graphics 프레임워크는 `Quartz`고급 드로잉 엔진을 기반으로 한다.
- Core Graphics는 저수준의 경량 2D 렌더링을 탁월한 해상도로 출력한다.
- Core Graphics를 사용하면 경로 기반 그리기, 변환, 색상 관리, 오프스크린 렌더링, 패턴, 그라데이션 및 쉐이딩, 이미지 데이터 관리, 이미지 생성 및 마스킹, PDF 문서의 작성, 표시, 파싱을 처리할 수 있다.

### 3. **Core Graphics의 context에 대해 설명해주세요.**

- CGContext는 Quartz 2D 도면 대상을 나타낸다.
- context는, 애플리케이션내의 창, 비트맵 화상, PDF 문서, 또는 프린터의 어느 쪽이든, 페이지의 페인트를 행선지에 렌더링 하기 위해서 필요한 모든 디바이스 고유의 정보를 포함한다.