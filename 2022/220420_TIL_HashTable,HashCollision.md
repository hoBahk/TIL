# Hashable이 무엇이고, Equatable을 왜 상속해야 하는지 설명하시오.

## Hashable

- 정수 해시값을 제공하여 그 자체로 유일하게 표현이 가능한 방법을 제공하는 프로토콜

## HashValue(해시값)?

- 원본 데이터를 특정 규칙에 따라 처리하여 간단한 숫자로 만든 것
- 원본 데이터를 바탕으로 64bi의 int값으로 변환한 것

## Equatable

값의 비교가 가능함을 보장해주는 프로토콜

## Hashable은 왜 Equatable을 상속해야하는가

1. key 값을 해싱함수를 통해 해시값으로 만든다. 해시값은 해시주소값(해시 테이블 배열의 index)이다.
2. key값이 달라도 해싱함수를 통해 생성된 해시값은 같을 수 있다. 그런 경우를 해시 충돌이라고 한다.
3. 해시 충돌이 발생했을 때 해시값이 아닌 다른 값으로 같은지를 비교한다.  그래서 이 때 Equatable을 통해 정의한 == operation에 따라서 같은 객체인지 비교한다.

## 해시테이블

- key&Value 형식처럼 보인다. 해시테이블은 배열이다.
- key를 가지고 해싱함수를 통해 해시값으로 만든다. 해시값을 통해 해시테이블에 있는 value의 index값을 알아낸다. → key 값으로 index값을 알아낸다.
- index를 통해 해시테이블에 접근해 값을 가져오거나 저장한다.


## 해시 충돌

- 다른 key의 해시 주소 값(해시테이블의 index)이 동일 할 경우 해시 충돌이 일어난다.

### 해결 방법

- Chaining 기법
    - 개방 해슁 또는 open Hashing이라고 부르는데, 해시 테이블 저장 공간 외의 공간을 활용하는 방법
    - 충돌이 일어날 경우, 연결리스트를 이용하여 데이터를 추가로 뒤에 연결 시켜서 저장한다.
    - 하나의 해시주소값에 두 개 이상의 value가 있기 때문에 key값도 같이 저장된다.

- Linear Probing 기법
    - 폐쇄 해싱 또는 Close Hashing이라고 부른다.
    - 해시 테이블 저장 공간 안에서 충돌 문제를 해결하는 방법이다.
    - 충돌이 일어날 경우, 해당 해쉬 주소값(index부터) 순회하며 가장 처음 나오는 빈공간에 저장하는 기법
    

## 해시 테이블 시간복잡도

- 일반적으로 O(1)
- 최악의 경우, 모든 충돌이 다 발생한 경우는 배열처럼 O(n)이다.

## 해시테이블의 장단점 및 용도

1. 장점
    - 데이터 저장/읽기 속도가 빠르다.
    - 키에 대한 데이터의 중복 확인이 쉽다.
2. 단점
    - 일반적으로 저장 공간이 많이 필요하다. (충돌 문제를 해결하기 위해 저장공간을 많이 쓴다.)
    - 충돌 발생 시 해결하기 위한 별도의 자료구조가 필요하다.
    
3. 정리
    - 해시 테이블은 시간 복잡도와 공간 복잡도를 맞바꿨다라고 표현하기도 한다.
        - 속도는 빨라졌지만 낭비되는 저장공간이 늘어났기 때문이다.
4. 용도
    - 저장, 검색, 삭제 등 탐색을 많이 하는 경우나 캐쉬를 구현할 때 사용하면 좋다고 한다.

## 꼬리질문

- Hashable, Equatable 사용한 경험이 있는가?
    - 딕셔너리 키값을 hashable하게 만들어준다.
- Hashable을 따르는 타입은 무엇이 있을까요?
    - 표준 라이브러리의 많은 타입들 또한 hashable을 준수한다.
    - string, integer, floating-point, boolean values, set 등
- Hashable을 준수해야만 하는 것들이 무엇이 있을까?
    - 구조체의 경우, 저장프로퍼티는 모두 Hashable을 준수해야 한다.
    - 열거형의 경우, 모든 associated values은 모두 Hashable을 준수해야 한다.
    - Set, Dictionary의 key는 중복을 허용하지 않아야 함으로 Equatable을 상속하고 있는 Hashable을 준수해야 한다.